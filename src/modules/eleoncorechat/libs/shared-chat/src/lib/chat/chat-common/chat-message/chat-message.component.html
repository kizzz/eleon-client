<div class="flex flex-column gap-1" [ngClass]="wrapperClass">
  <div class="flex align-items-center justify-content-end gap-2">
    <span *ngIf="showTime" class="text-600 text-sm" [ngClass]="{'creation-time-absolute': creationTimeDisplayAbsolute}">
      <ng-container *ngIf="sending">
        <span class="fas fa-spinner fa-spin"></span>
      </ng-container>
      <ng-container *ngIf="!sending">
        {{messageData.creationTime | timeAgo:false}}
      </ng-container>
    </span>
    <div *ngIf="showTime" class="time-bullet"></div>
    <span *ngIf="showName" class="text-700 text-md font-bold" style="letter-spacing: .3px">{{sender.name}}</span>
    <div *ngIf="showName" style="width: 39px;min-width: 39px;"></div>
  </div>
  <div class="flex gap-2 align-items-end w-full" style="position: relative" [ngClass]="messageFlexDirection">
    <app-chat-user-avatar *ngIf="showAvatar" [user]="sender"></app-chat-user-avatar>
    <div *ngIf="!showAvatar" style="width: 39px;min-width: 39px;"></div>

    <div class="flex align-items-center">
      <div [ngClass]="messageCssClass" [ngStyle]="messageStyle">
        <app-chat-message-content [message]="messageData" [sending]="sending"></app-chat-message-content>
      </div>
    </div>
  </div>
</div>