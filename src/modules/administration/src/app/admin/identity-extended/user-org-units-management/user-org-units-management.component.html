<p-dialog [resizable]="false" [(visible)]="showDialog" [closable]="false" [modal]="true" [draggable]="false">
  <ng-template pTemplate="header">
    <div class="flex w-full justify-content-between align-items-center">
      <div class="text-xl font-bold">
        {{'TenantManagement::UserOrgUnitsManagement:Title' | abpLocalization:getUserName()}}
      </div>
      <div>
        <span class="icon-close-button" (click)="cancel()">
          <i class="pi pi-times"></i>
        </span>
      </div>
    </div>
  </ng-template>
  <div *ngIf="showDialog" class="wrapper">
    <app-organization-units-selection-tree [defaultSelectedOrganizationUnits]="defaultSelectedOrganizationUnits"
      maxHeight="360px" [anySelected]="false" [loading]="loading" [isAnySelectionAvailable]="false"
      (selectionEvent)="onOrgUnitsSelected($event)" [onlyUsers]="false" [isManage]="true" [disableCheckBoxSelection]="!allowUpdate">
    </app-organization-units-selection-tree>
  </div>

  <ng-template pTemplate="footer">
    <div class="flex align-items-center justify-content-end mt-4">
      <p-button [text]="true" [raised]="true" (click)="cancel()" styleClass="p-button-secondary mr-3" autoWidth="false"
        [label]="'Infrastructure::Cancel' | abpLocalization" icon="fa fa-times" [disabled]="loading">
      </p-button>
      <p-button [text]="true" [raised]="true" styleClass="p-button-primary mr-3" autoWidth="false" [disabled]="loading"
        [label]="'Infrastructure::Save' | abpLocalization" (click)="save()" *ngIf="allowUpdate"
        [icon]="loading ? 'fa fa-spin fa-spinner' : 'fa fa-check'">
      </p-button>
    </div>
  </ng-template>
</p-dialog>