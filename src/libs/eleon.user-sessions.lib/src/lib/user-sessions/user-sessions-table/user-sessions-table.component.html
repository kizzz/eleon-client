<p-table
  responsiveLayout="stack"
  scrollDirection="both"
  class="data-table"
  [rowHover]="true"
  styleClass="pr-table"
  [loading]="loading"
  [value]="filtered"
  [paginator]="true"
  [rows]="rowsCount"
  [totalRecords]="totalRecords"
  sortMode="single"
  sortField="device"
  sortOrder="-1"
>
  <!-- *appResponsiveTable="'md'; let scrollable; let breakpoint = breakpoint" [scrollable]="scrollable" [lazy]="true" (onLazyLoad)="loadUsers($event)"  [breakpoint]="breakpoint"     -->
  <ng-template pTemplate="caption">
    <div class="grid mt-0">
      <div
        class="col-12 md:col-6 md:pl-4 p-0 flex align-items-center justify-content-end"
      >
        <div class="p-inputgroup">
          <input
            type="text"
            pInputText
            #searchField
            placeholder="{{ 'Infrastructure::Search' | abpLocalization }}"
            [(ngModel)]="searchQueryText"
            (ngModelChange)="!searchQueryText ? search() : null"
          />
          <button
            type="button"
            (click)="search()"
            pButton
            pRipple
            icon="pi pi-search"
            styleClass="p-button-info"
            class="p-button-text"
          ></button>
          <button
            type="button"
            pButton
            pRipple
            icon="pi pi-times-circle"
            class="p-button-danger p-button-text"
            (click)="clear($event)"
          ></button>
        </div>
      </div>
      <div
        class="col-12 md:col-6 py-3 md:py-0 flex align-items-center md:justify-content-end justify-content-center gap-2"
      >
        <p-button
          [text]="true"
          [raised]="true"
          styleClass="p-button-warning"
          (onClick)="refresh()"
          icon="fa fa-refresh"
          [label]="'Infrastructure::Reload' | abpLocalization"
          iconPos="left"
          [disabled]="modalBusy"
        ></p-button>
        <app-table-header-controls></app-table-header-controls>
      </div>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="ipAddress">
        {{ 'TenantManagement::User:Session:IpAddress' | abpLocalization }}
        <p-sortIcon field="ipAddress"></p-sortIcon>
      </th>
      <th pSortableColumn="device">
        {{ 'TenantManagement::User:Session:Device' | abpLocalization }}
        <p-sortIcon field="device"></p-sortIcon>
      </th>
      <th pSortableColumn="browser">
        {{ 'TenantManagement::User:Session:Browser' | abpLocalization }}
        <p-sortIcon field="browser"></p-sortIcon>
      </th>
      <th pSortableColumn="signInDate">
        {{ 'TenantManagement::User:Session:SignInDate' | abpLocalization }}
        <p-sortIcon field="signInDate"></p-sortIcon>
      </th>
      <th pSortableColumn="lastAccessTime">
        {{ 'TenantManagement::User:Session:LastAccessTime' | abpLocalization }}
        <p-sortIcon field="lastAccessTime"></p-sortIcon>
      </th>
      <th style="max-width: 64px"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-row>
    <tr>
      <td>
        <span class="non-editing-only p-column-title">
          {{ 'TenantManagement::User:Session:IpAddress' | abpLocalization }}
        </span>
        <span class="column-content flex align-items-center gap-3">
          <!-- <app-profile-picture [userId]="row.id" class="big-width-only"></app-profile-picture> -->
          {{ row.ipAddress }}
        </span>
      </td>
      <td>
        <span class="non-editing-only p-column-title">
          {{ 'TenantManagement::User:Session:Device' | abpLocalization }}
        </span>
        <span class="column-content">
          {{ row.device }}
        </span>
      </td>
      <td>
        <span class="non-editing-only p-column-title">
          {{ 'TenantManagement::User:Session:Browser' | abpLocalization }}
        </span>
        <span class="column-content">
          {{ row.browser }}
        </span>
      </td>
      <td>
        <span class="non-editing-only p-column-title">
          {{ 'TenantManagement::User:Session:SignInDate' | abpLocalization }}
        </span>
        <span class="column-content">
          {{ row.signInDate | date : 'yyyy-MM-dd HH:mm:ss' }}
        </span>
      </td>
      <td>
        <span class="non-editing-only p-column-title">
          {{
            'TenantManagement::User:Session:LastAccessTime' | abpLocalization
          }}
        </span>
        <span class="column-content">
          {{ row.lastAccessTime | date : 'yyyy-MM-dd HH:mm:ss' }}
        </span>
      </td>

      <td>
        <span class="column-content">
          <span class="buttons cursor-pointer" (click)="revokeSession(row.id)">
            <i class="fa fa-trash" style="color: var(--danger-color)"></i>
          </span>
        </span>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr class="table-emptymessage">
      <td class="w-full" colspan="6">
        <div class="card w-full">
          <div class="card-body w-full">
            <div class="card-header text-center">
              <span *ngIf="!searchQueryText?.length">
                {{
                  'TenantManagement::User:Sessions:ListEmpty' | abpLocalization
                }}
              </span>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
